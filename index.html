<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>–û—Ç–∫—Ä—ã—Ç–∫–∞ –¥–ª—è –ª—é–±–∏–º–æ–≥–æ ‚Äî –º–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è</title>
  <style>
    :root{
      --bg1:#fff0f6; --bg2:#ffdcee; --accent:#ff4d84; --accent-2:#ff88b8; --card-bg: rgba(255,255,255,0.85);
      --glass: rgba(255,255,255,0.6);
      --tap-size: 52px; 
    }

   
    *{box-sizing:border-box}
    html,body{height:100%;}
    body{
      margin:0; font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: linear-gradient(160deg,var(--bg1), var(--bg2));
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
      color: #3b0130; overflow:hidden; 
    }

   
    .screen{
      position:absolute; inset:0; display:flex; align-items:center; justify-content:center; padding:env(safe-area-inset-top) 18px calc(env(safe-area-inset-bottom) + 18px) 18px;
      transition: opacity .35s ease, transform .35s ease; will-change: opacity, transform;
      pointer-events:none; opacity:0; transform: translateY(6vh);
    }
    .screen.active{ pointer-events:auto; opacity:1; transform: translateY(0); }

    .card{
      width:100%; max-width:420px; border-radius:18px; background:var(--card-bg); padding:18px; box-shadow: 0 10px 30px rgba(88,20,60,0.12);
      backdrop-filter: blur(8px);
    }

    h1,h2,p{ margin:0; }
    .title{ color:var(--accent); font-weight:700; font-size:1.25rem; text-align:center; }
    .sub{ color:#8b2e5a; font-size:0.95rem; text-align:center; margin-top:8px }

    
    .input{ width:100%; margin-top:16px; display:flex; gap:8px; }
    input[type="password"]{ flex:1; padding:14px 16px; border-radius:12px; border:1px solid rgba(200,120,150,0.28); font-size:1rem; background:transparent }
    .btn{ background:linear-gradient(180deg,var(--accent), var(--accent-2)); color:white; border:0; padding:0 14px; min-height:var(--tap-size); border-radius:12px; font-weight:700; font-size:1rem; cursor:pointer }
    .muted{ font-size:0.85rem; color:#9b4366; margin-top:8px; text-align:center }

    
    .question-area{ position:relative; width:100%; height:320px; display:flex; align-items:center; justify-content:center; margin-top:12px; overflow:hidden; border-radius:12px; background: linear-gradient(180deg, rgba(255,255,255,0.2), rgba(255,255,255,0.05)); border:1px solid rgba(255,255,255,0.06); }
    .yes{ position:relative; z-index:3; min-width:140px; min-height:var(--tap-size); border-radius:12px; }
    .no{ position:absolute; z-index:4; min-width:120px; min-height:44px; border-radius:12px; }

   
    .main-inner{ display:flex; flex-direction:column; gap:14px; align-items:center }
    .msg{ font-weight:700; color:var(--accent); font-size:1.1rem }
    .small{ font-size:0.95rem; color:#7a2b53 }

  
    .gallery{ width:100%; display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap:10px; margin-top:6px }
    .gallery img{ width:100%; height:140px; object-fit:cover; border-radius:12px; border:3px solid rgba(255,200,220,0.6) }

 
    .hearts{ position:fixed; inset:0; pointer-events:none; z-index:2; }
    .heart{ position:absolute; font-size:20px; transform: translateY(0); opacity:0; will-change: transform, opacity; }

    
    .type{ font-weight:600; color:#53103a; font-size:1rem; text-align:center; min-height:26px }

  
    @media (max-width:420px){
      .question-area{ height:260px }
      .gallery img{ height:120px }
      .title{ font-size:1.1rem }
      .msg{ font-size:1rem }
    }

    @media (min-width:700px){
      body{ background: linear-gradient(160deg,#fff5f9,#ffeef6) }
      .card{ padding:24px }
      .gallery img{ height:160px }
    }

  </style>
</head>
<body>

  
  <div id="hearts" class="hearts" aria-hidden="true"></div>


  <section id="screen-pass" class="screen active" aria-label="–≠–∫—Ä–∞–Ω –ø–∞—Ä–æ–ª—è">
    <div class="card" role="dialog" aria-modal="true">
      <div class="title">üîí –°–µ–∫—Ä–µ—Ç–Ω–∞—è –æ—Ç–∫—Ä—ã—Ç–∫–∞</div>
      <div class="sub">–í–≤–µ–¥–∏ –ø–∞—Ä–æ–ª—å, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å</div>

      <div class="input">
        <input id="pwd" type="password" inputmode="text" aria-label="–ü–∞—Ä–æ–ª—å" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" autocomplete="off">
        <button id="openBtn" class="btn">–û—Ç–∫—Ä—ã—Ç—å</button>
      </div>
      <div id="err" class="muted" aria-live="polite"></div>
      <div style="height:6px"></div>
      <div style="font-size:12px;color:#b65a82;text-align:center">–ü–æ–¥—Å–∫–∞–∑–∫–∞: 4 —Ü–∏—Ñ—Ä—ã, –¥–∞—Ç–∞ –Ω–∞—à–µ–≥–æ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–∞ </div>
    </div>
  </section>


  <section id="screen-quest" class="screen" aria-label="–≠–∫—Ä–∞–Ω –≤–æ–ø—Ä–æ—Å–∞">
    <div class="card">
      <div class="title">–ë—É–¥–µ—à—å –≤—Å–µ–≥–¥–∞ –º–µ–Ω—è –ª—é–±–∏—Ç—å?</div>
      <div class="sub">–û—Ç–≤–µ—á–∞–π —á–µ—Å—Ç–Ω–æ üíû</div>

      <div id="questionArea" class="question-area" aria-hidden="false">
        <button id="yesBtn" class="btn yes" aria-label="–î–∞, —è –±—É–¥—É">–î–∞ ‚ù§Ô∏è</button>
        <button id="noBtn" class="btn no" aria-label="–ù–µ—Ç">–ù–µ—Ç</button>
      </div>

      <div style="margin-top:8px;text-align:center;color:#9b4366;font-size:13px">–ü–æ–¥—Å–∫–∞–∑–∫–∞: —à–µ–≤–µ–ª–∏ –ø–∞–ª—å—Ü–µ–º –ø–æ –∫–Ω–æ–ø–∫–µ ¬´–ù–µ—Ç¬ª üòâ</div>
    </div>
  </section>

  
  <section id="screen-main" class="screen" aria-label="–û—Å–Ω–æ–≤–Ω–∞—è –æ—Ç–∫—Ä—ã—Ç–∫–∞">
    <div class="card main-inner">
      <div class="title">–î–ª—è —Ç–µ–±—è üíò</div>
      <div class="msg" id="mainMsg">–¢—ã ‚Äî —Å–∞–º—ã–π –ª—É—á—à–∏–π —á–µ–ª–æ–≤–µ—á–µ–∫ –≤ –º–æ–µ–π –∂–∏–∑–Ω–∏üòç</div>
      <div class="type" id="typeArea" aria-live="polite"></div>
      <div style="display:flex;gap:10px;justify-content:center;width:100%">
        <button id="nextMsg" class="btn">–ï—â—ë üíå</button>
        <button id="replay" class="btn" style="background:#fff;color:var(--accent);border:1px solid rgba(255,80,120,0.12)">–°–Ω–∞—á–∞–ª–∞</button>
      </div>

      <div class="gallery" id="gallery">
        <img src="https://images.unsplash.com/photo-1518199266791-5375a83190b7?q=80&w=800&auto=format&fit=crop" alt="–†–æ–º–∞–Ω—Ç–∏–∫–∞">
        <img src="https://images.unsplash.com/photo-1510022079733-8b58aca7c4ae?q=80&w=800&auto=format&fit=crop" alt="–°–µ—Ä–¥–µ—á–∫–∏">
        <img src="https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?q=80&w=800&auto=format&fit=crop" alt="–û–≥–æ–Ω—å–∫–∏">
        <img src="https://images.unsplash.com/photo-1518976024611-58a9a7e5fb2e?q=80&w=800&auto=format&fit=crop" alt="–ü–∞—Ä–∞">
      </div>

      <div style="font-size:12px;color:#9b4366;margin-top:6px">–°–¥–µ–ª–∞–Ω–æ —Å –ª—é–±–æ–≤—å—é ‚Äî <span id="footerName">–¢–≤–æ—è –¥–µ–≤–æ—á–∫–∞</span></div>
    </div>
  </section>

<script>
 
  const PASSWORD = '2305';
  const YOUR_NAME = '–¢–≤–æ—è –¥–µ–≤–æ—á–∫–∞';
  const PARTNER_NAME = '–ú–æ–π –ª—é–±–∏–º—ã–π';
  const MESSAGES = [
    '–¢—ã ‚Äî —Å–∞–º—ã–π –ª—É—á—à–∏–π —á–µ–ª–æ–≤–µ—á–µ–∫ –≤ –º–æ–µ–π –∂–∏–∑–Ω–∏üòç',
    '–°–ø–∞—Å–∏–±–æ, —á—Ç–æ —Ç—ã –µ—Å—Ç—å —Ä—è–¥–æ–º üíï',
    '–° —Ç–æ–±–æ–π –≤—Å—ë –ø–æ‚Äë–Ω–∞—Å—Ç–æ—è—â–µ–º—É üòç',
    '–õ—é–±–ª—é —Ç–µ–±—è –±–µ–∑—É–º–Ω–æ üíû'
  ];

  document.getElementById('footerName').textContent = YOUR_NAME;

  const sPass = document.getElementById('screen-pass');
  const sQuest = document.getElementById('screen-quest');
  const sMain = document.getElementById('screen-main');

  function showScreen(el){
    [sPass,sQuest,sMain].forEach(s=>s.classList.remove('active'));
    el.classList.add('active');
  }


  document.getElementById('openBtn').addEventListener('click', ()=>{
    const val = document.getElementById('pwd').value.trim();
    const err = document.getElementById('err');
    if(val === PASSWORD){ err.textContent=''; showScreen(sQuest); }
    else{ err.textContent='–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å üíó'; navigator.vibrate && navigator.vibrate(40); }
  });

 
  document.getElementById('pwd').addEventListener('keydown', (e)=>{ if(e.key==='Enter') document.getElementById('openBtn').click(); });


  const area = document.getElementById('questionArea');
  const noBtn = document.getElementById('noBtn');
  const yesBtn = document.getElementById('yesBtn');


  function centerNo(){ noBtn.style.transform = 'translate(0,0)'; noBtn.style.left = '50%'; noBtn.style.top = '55%'; noBtn.style.position='absolute'; noBtn.style.transform = 'translate(-50%,-50%)'; }
  centerNo();

  function moveNo(){
    const a = area.getBoundingClientRect();
    const b = noBtn.getBoundingClientRect();
    const padding = 12; // –æ—Ç—Å—Ç—É–ø
   
    const maxX = Math.max(0, a.width - b.width - padding*2);
    const maxY = Math.max(0, a.height - b.height - padding*2);

   
    let x = Math.random() * maxX + padding;
    let y = Math.random() * maxY + padding;

   
    noBtn.style.left = x + 'px';
    noBtn.style.top = y + 'px';
    noBtn.style.transform = 'translate(0,0)';
  }

 
  noBtn.addEventListener('pointerenter', moveNo);
  noBtn.addEventListener('click', (e)=>{ e.preventDefault(); moveNo(); });
  noBtn.addEventListener('touchstart', (e)=>{ e.preventDefault(); moveNo(); });

 
  yesBtn.addEventListener('click', ()=>{ showScreen(sMain); startHearts(); startTypewriter(); });

  
  document.getElementById('replay').addEventListener('click', ()=>{ showScreen(sPass); document.getElementById('pwd').value=''; centerNo(); stopHearts(); resetTypewriter(); });

 
  const typeArea = document.getElementById('typeArea');
  let msgIndex = 0;
  let typeInterval = null;
  function typeText(text){
    typeArea.textContent = '';
    let i = 0;
    clearInterval(typeInterval);
    typeInterval = setInterval(()=>{
      typeArea.textContent = text.slice(0, i+1);
      i++;
      if(i >= text.length) clearInterval(typeInterval);
    }, 45);
  }
  function startTypewriter(){
    typeText(MESSAGES[msgIndex]);
  }
  function resetTypewriter(){ clearInterval(typeInterval); typeArea.textContent = ''; msgIndex=0; document.getElementById('mainMsg').textContent = MESSAGES[0]; }
  document.getElementById('nextMsg').addEventListener('click', ()=>{ msgIndex = (msgIndex+1) % MESSAGES.length; document.getElementById('mainMsg').textContent = MESSAGES[msgIndex]; typeText(MESSAGES[msgIndex]); });


  const heartsRoot = document.getElementById('hearts');
  let heartsTimer = null;
  function rand(min,max){ return Math.random()*(max-min)+min }

  function createHeart(){
    const h = document.createElement('div');
    h.className = 'heart';
    h.textContent = ['üíñ','üíò','üíù','üíû','üíã'][Math.floor(Math.random()*5)];
    const size = Math.round(rand(18,36));
    h.style.fontSize = size + 'px';

   
    const x = rand(4,96);
    const startY = rand(80,110); 
    h.style.left = x + 'vw';
    h.style.top = startY + 'vh';
    heartsRoot.appendChild(h);


    const duration = rand(5500, 11000);
    const transformX = rand(-12,12);
    h.animate([
      { transform: `translate3d(0,0,0) scale(0.9) rotate(${rand(-20,20)}deg)`, opacity: 0 },
      { transform: `translate3d(${transformX}vw, -120vh, 0) scale(1) rotate(${rand(-10,10)}deg)`, opacity: 1 }
    ], { duration: duration, easing: 'linear' });

   
    setTimeout(()=>{ h.remove(); }, duration+50);
  }

  function startHearts(){
    stopHearts();
    const count = (window.innerWidth <= 420) ? 10 : 18;
    heartsTimer = setInterval(()=>{ for(let i=0;i<1;i++) createHeart(); }, 600);
  
    for(let i=0;i<count;i++){ setTimeout(createHeart, i*120); }
  }
  function stopHearts(){ if(heartsTimer) clearInterval(heartsTimer); Array.from(heartsRoot.children).forEach(n=>n.remove()); }

  document.addEventListener('visibilitychange', ()=>{ if(document.visibilityState==='visible' && sMain.classList.contains('active')){ startHearts(); startTypewriter(); } });

  showScreen(sPass);
  centerNo();
 
  document.getElementById('mainMsg').textContent = MESSAGES[0];

 
  area.addEventListener('touchmove', (e)=>{ e.preventDefault(); }, {passive:false});

</script>
</body>
</html>
